(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{973:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var r=n(5893),s=n(9008),a=n(3802),o=n(6049),c=n(6156),u=n(7757),i=n.n(u),l=n(2137),f=n(7294),p=n(3029),h=function(){var e=(0,l.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.X3)("notes",1,{upgrade:function(){var e=(0,l.Z)(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("old version",n),t.createObjectStore("notes",{keyPath:"id",autoIncrement:!0}),e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,l.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return n=e.sent,e.next=5,n.add("notes",t);case 5:return n.close(),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,l.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.Lj)("notes",{blocked:function(){console.log("Database is blocked")}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,l.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,h();case 3:return n=e.sent,e.next=6,n.transaction("notes").store.openCursor();case 6:r=e.sent;case 7:if(!r){e.next=14;break}return t.push(r.value),e.next=11,r.continue();case 11:r=e.sent,e.next=7;break;case 14:return n.close(),e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=(0,l.Z)(i().mark((function e(){var t,n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,h();case 3:return n=e.sent,e.next=6,n.transaction("notes").store.openCursor();case 6:r=e.sent;case 7:if(!r){e.next=14;break}return r.value.isFav&&t.push(r.value),e.next=11,r.continue();case 11:r=e.sent,e.next=7;break;case 14:return n.close(),e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,l.Z)(i().mark((function e(){var t,n,r,s,a,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]&&o[1],r=[],e.next=5,h();case 5:return s=e.sent,e.next=8,s.transaction("notes").store.openCursor();case 8:a=e.sent;case 9:if(!a){e.next=16;break}return a.value.content.toLowerCase().includes(t.toLowerCase())&&(n?a.value.isFav&&r.push(a.value):r.push(a.value)),e.next=13,a.continue();case 13:a=e.sent,e.next=9;break;case 16:return s.close(),e.abrupt("return",r);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(){var e=(0,l.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return n=e.sent,e.next=5,n.get("notes",t.id);case 5:return r=e.sent,e.next=8,n.put("notes",g(g({},r),t));case 8:return n.close(),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=f.createContext({notes:[],searchText:"",showFav:!1,showEmpty:!1,onClear:function(){var e=(0,l.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onCreate:function(){var e=(0,l.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onUpdate:function(){var e=(0,l.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setSearchText:function(){},setShowEmpty:function(){},setShowFav:function(){}}),N=function(e){var t=e.children,n=(0,f.useState)(""),s=n[0],a=n[1],o=(0,f.useState)([]),c=o[0],u=o[1],p=(0,f.useState)(!1),h=p[0],w=p[1],g=(0,f.useState)(!1),y=g[0],N=g[1],C=(0,f.useCallback)((0,l.Z)(i().mark((function e(){var t,n,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!s){e.next=8;break}return e.next=4,m(s,y);case 4:n=e.sent,t=n,e.next=19;break;case 8:if(!y){e.next=15;break}return e.next=11,b();case 11:r=e.sent,t=r,e.next=19;break;case 15:return e.next=17,v();case 17:a=e.sent,t=a;case 19:u(t);case 20:case"end":return e.stop()}}),e)}))),[y,s]),P=function(){var e=(0,l.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h&&t){e.next=3;break}return console.log("Cannot create note"),e.abrupt("return");case 3:return n=O(O({},h),{},{content:t}),e.next=6,d(n);case 6:C(),w(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,l.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:C();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){C()}),[C]);var D=function(){var e=(0,l.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Please confirm if you want to delete all the notes?")){e.next=4;break}return e.next=3,x();case 3:C();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.jsx)(k.Provider,{value:{notes:c.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),searchText:s,showEmpty:h,showFav:y,onClear:D,onCreate:P,onUpdate:S,setSearchText:a,setShowEmpty:w,setShowFav:N},children:t})},C=function(){return(0,f.useContext)(k)};function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var S=function(){var e=C(),t=e.showFav,n=e.setShowFav,s=e.setSearchText,c=e.searchText;return(0,r.jsx)("header",{className:"px-16",children:(0,r.jsxs)("div",{className:"flex items-center mt-2",children:[(0,r.jsx)(a.W1M,{className:"w-5 h-5 text-gray-400"}),(0,r.jsx)("input",{className:"px-4 flex-1 py-4 placeholder-gray-400 focus:ring-2 focus:ring-blue-600",type:"text",placeholder:"Search",value:c,onChange:function(e){s(e.target.value)}}),(0,r.jsxs)("button",{className:P("rounded-md p-2 ml-8 hover:shadow-md transition",t?"bg-black hover:bg-gray-800 focus:bg-gray-800 text-white":"bg-gray-100 hover:bg-gray-300 focus:bg-gray-300"),onClick:function(){return n((function(e){return!e}))},children:[(0,r.jsx)("span",{className:"sr-only",children:"Show favorites"}),(0,r.jsx)(o.r7p,{className:"w-5 h-5"})]})]})})},D=n(3391),E={1:"#fec870",2:"#F5972C",3:"#e3ed8e",4:"#b592fb",5:"#01d3fe"},Z=function(){var e=(0,f.useState)(!1),t=e[0],n=e[1],s=C(),c=s.setShowEmpty,u=s.onClear;return(0,r.jsxs)("div",{className:"w-24 h-full flex flex-col items-center",children:[(0,r.jsx)("h2",{className:"text-lg font-bold py-4 mt-2",children:"Notes"}),(0,r.jsxs)("div",{className:"pt-12",children:[(0,r.jsxs)("button",{className:"bg-black text-white rounded-full p-3 mb-8 hover:shadow-lg focus:shadow-lg",onClick:function(){return n((function(e){return!e}))},children:[(0,r.jsx)("span",{className:"sr-only",children:"Add note"}),(0,r.jsx)(a.pOD,{className:"w-5 h-5"})]}),t&&Object.entries(E).map((function(e){var t=(0,D.Z)(e,2),n=t[0],s=t[1];return(0,r.jsx)("button",{onClick:function(){return function(e){c({color:e,content:"",isFav:0,date:(new Date).toISOString()})}(s)},className:"block rounded-full h-6 w-6 mb-4 mx-auto hover:shadow-lg focus:shadow-lg",style:{backgroundColor:s},children:(0,r.jsxs)("span",{className:"sr-only",children:["Create note with color ",n," - ",s]})},n)}))]}),(0,r.jsx)("div",{className:"mt-auto mb-8",children:(0,r.jsxs)("button",{className:"rounded-md p-2 bg-gray-100 hover:bg-gray-300 focus:bg-gray-300 hover:shadow-md transition",onClick:u,children:[(0,r.jsx)("span",{className:"sr-only",children:"Delete all"}),(0,r.jsx)(o.XHJ,{className:"w-5 h-5"})]})})]})},F=function(){return(0,r.jsxs)("footer",{className:"text-center mt-auto pb-12",children:[(0,r.jsx)("span",{children:"Built with"}),(0,r.jsx)("span",{className:"sr-only",children:"love"}),(0,r.jsx)(a.h_8,{className:"w-6 h-6 inline-block mx-2 -mt-1 text-red-500"}),(0,r.jsxs)("span",{children:["by"," ",(0,r.jsx)("a",{href:"http://varundevpro.github.io",target:"_blank",rel:"noopener noreferrer",className:"hover:underline font-bold",children:"Varun"})]})]})},_=function(e){return e.hide?null:(0,r.jsx)("div",{className:"flex mx-auto",style:{minHeight:480,width:1240,maxWidth:"65vw"},children:(0,r.jsxs)("span",{className:"text-center max-w-prose m-auto block",children:["You haven't added any notes yet.",(0,r.jsx)("br",{})," Please click the ",(0,r.jsx)("strong",{children:"Add"})," button in the sidebar to create a note."]})})},T=n(2122),Y=function(e){var t=e.color,n=e.content,s=(e.date,e.isFav,e.onSave),a=e.onCancel,o=(0,f.useState)(void 0),c=o[0],u=o[1],i=(0,f.useRef)(null);(0,f.useEffect)((function(){i.current.focus()}),[]);return(0,r.jsxs)("div",{className:"group flex flex-col pb-8 rounded-2xl",style:{minWidth:280,minHeight:280,backgroundColor:t},children:[(0,r.jsx)("textarea",{className:"block px-8 pt-8 rounded-2xl outline-none resize-none h-full flex-grow",defaultValue:n,style:{backgroundColor:t},onChange:function(e){u(e.target.value)},ref:i,children:c}),(0,r.jsxs)("div",{className:"flex px-8 mt-auto",children:[(0,r.jsx)("button",{className:"text-white bg-black hover:bg-gray-900 hover:shadow-lg transition rounded-full mr-2 py-3 px-4 flex-1",onClick:function(){return s(c)},children:"Save"}),(0,r.jsx)("button",{className:"text-black bg-white bg-opacity-50 hover:bg-opacity-75 hover:shadow-lg transition rounded-full ml-2 py-3 px-4 flex-1",onClick:a,children:"Cancel"})]})]})},A=n(7099),M=n.n(A)()("{MMMM} {DD}, {YYYY}"),H=function(e){var t=e.color,n=e.content,s=e.date,c=e.isFav,u=e.onEdit,i=e.onFavChange;return(0,r.jsxs)("div",{className:"group flex flex-col p-8 rounded-2xl",style:{minWidth:280,minHeight:280,backgroundColor:t},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{className:P("bg-black hover:bg-gray-900 hover:shadow-lg transition rounded-full p-2 ml-4 mb-4 float-right",c?"text-yellow-400":"text-white hover:text-yellow-400 opacity-0 group-hover:opacity-100 focus:opacity-100"),onClick:i,children:[(0,r.jsx)("span",{className:"sr-only",children:"Toggle Favorite"}),c?(0,r.jsx)(a.r7p,{className:"w-4 h-4"}):(0,r.jsx)(o.r7p,{className:"w-4 h-4"})]}),(0,r.jsx)("p",{className:"font-medium",children:n})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-auto clear-both",children:[(0,r.jsx)("time",{dateTime:s,children:M.render(new Date(s))}),(0,r.jsxs)("button",{className:"bg-black text-white hover:bg-gray-900 rounded-full p-3 transition transform hover:scale-105 hover:shadow-lg opacity-0 group-hover:opacity-100 focus:opacity-100",onClick:u,children:[(0,r.jsx)("span",{className:"sr-only",children:"Edit note"}),(0,r.jsx)(a.vdY,{className:"w-4 h-4"})]})]})]})};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=function(e){var t=(0,T.Z)({},e),n=(0,f.useState)(!1),s=n[0],a=n[1],o=C().onUpdate,c=function(){a((function(e){return!e}))};return s?(0,r.jsx)(Y,W(W({},t),{},{onSave:function(e){e?(o(W(W({},t),{},{content:e,date:(new Date).toISOString()})),a(!1)):a(!1)},onCancel:c})):(0,r.jsx)(H,W(W({},t),{},{onEdit:c,onFavChange:function(){o(W(W({},t),{},{isFav:t.isFav?0:1}))}}))};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(){var e=C(),t=e.notes,n=e.showEmpty,s=e.setShowEmpty,a=e.onCreate;return(0,r.jsxs)("div",{className:"pt-12 px-16 pb-16",children:[(0,r.jsx)("h2",{className:"text-5xl font-semibold mb-12",children:"Notes"}),(0,r.jsxs)("div",{className:"max-w-screen-2xl grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10 gap-x-10 gap-y-10",children:[n&&(0,r.jsx)(Y,U(U({},n),{},{onCancel:function(){return s(!1)},onSave:a})),(null===t||void 0===t?void 0:t.length)>0&&t.map((function(e){return(0,r.jsx)(X,U({},e),e.id)}))]}),(0,r.jsx)(_,{hide:n||(null===t||void 0===t?void 0:t.length)>0})]})};function V(){return(0,r.jsxs)("div",{className:"font-sans h-full",children:[(0,r.jsxs)(s.default,{children:[(0,r.jsx)("title",{children:"Notes app"}),(0,r.jsx)("meta",{name:"description",content:"A working notes app. Inspired by the design from @Ariuka_dsgn"}),(0,r.jsx)("link",{rel:"icon",href:"https://fav.farm/\ud83e\udeb6"})]}),(0,r.jsx)("main",{className:"flex h-full",children:(0,r.jsxs)(N,{children:[(0,r.jsx)("aside",{className:"border-r border-gray-300",children:(0,r.jsx)(Z,{})}),(0,r.jsxs)("article",{className:"mx-auto h-full flex flex-col",children:[(0,r.jsx)(S,{}),(0,r.jsx)(B,{}),(0,r.jsx)(F,{})]})]})})]})}},3685:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(973)}])}},function(e){e.O(0,[610,774,888,179],(function(){return t=3685,e(e.s=t);var t}));var t=e.O();_N_E=t}]);